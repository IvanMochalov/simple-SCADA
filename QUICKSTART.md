# Быстрый старт

## Шаг 1: Установка зависимостей

```bash
# Установка зависимостей для всего проекта
npm install

# Или установка отдельно
cd server && npm install
cd ../client && npm install
```

## Шаг 2: Настройка базы данных

```bash
cd server
npx prisma generate
npx prisma migrate dev --name init
```

## Шаг 3: Создание примера конфигурации (опционально)

```bash
cd server
node src/init-db.js
```

Это создаст пример конфигурации:
- Узел связи: COM RTU MASTER (COM3, 9600 бод)
- Устройство: trm (адрес 17)
- Тег: темп (адрес 1, HOLDING_REGISTER)

**Важно**: Измените COM порт в конфигурации, если у вас другой порт!

## Шаг 4: Запуск сервера

```bash
cd server
npm run dev
```

Сервер запустится на `http://localhost:3001`

## Шаг 5: Запуск клиента

В новом терминале:

```bash
cd client
npm run dev
```

Клиент откроется на `http://localhost:5173`

## Шаг 6: Настройка конфигурации

1. Откройте браузер на `http://localhost:5173`
2. Перейдите в раздел "Конфигурация"
3. Создайте или отредактируйте узел связи:
   - Укажите правильный COM порт (например, COM3)
   - Настройте параметры связи (9600 бод, 8 бит данных, и т.д.)
4. Добавьте устройство:
   - Название: trm
   - Адрес Modbus: 17
   - Время ответа: 1000 мс
   - Период опроса: 1000 мс
5. Добавьте тег:
   - Название: темп
   - Адрес регистра: 1
   - Тип регистра: HOLDING_REGISTER
   - Тип данных в устройстве: int16
   - Тип данных в сервере: int32
   - Тип доступа: ReadOnly

## Шаг 7: Просмотр данных

- **Реальное время**: Перейдите в раздел "Реальное время" для просмотра текущих значений тегов
- **История**: Перейдите в раздел "История" для просмотра исторических данных

## Примечания

- Убедитесь, что COM порт не используется другими приложениями
- На Windows может потребоваться запуск с правами администратора
- Если устройство не подключено, статус будет отображаться как "Отключено" или "Ошибка"
- Исторические данные собираются автоматически каждую минуту

## Устранение проблем

### Ошибка "Port is already in use"
- Закройте другие приложения, использующие COM порт
- Перезапустите сервер

### Ошибка "Cannot open port"
- Проверьте, что COM порт существует
- Убедитесь, что у вас есть права доступа к COM порту
- На Windows запустите с правами администратора

### Устройство показывает статус "Ошибка"
- Проверьте подключение устройства
- Проверьте настройки связи (скорость, биты данных, и т.д.)
- Проверьте адрес Modbus устройства
- Проверьте, что устройство включено и отвечает
